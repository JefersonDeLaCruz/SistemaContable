<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{layout :: head}">
    
</head>

<body>

    <div class="drawer">
        <input id="my-drawer-3" type="checkbox" class="drawer-toggle" />
        <div class="drawer-content flex flex-col">
            <!-- Navbar -->
            <div th:replace="~{layout :: navbar}"></div>

            <!-- Page content here -->
            <div class="w-full p-4 sm:p-6 lg:p-10 bg-base-100">
                <h1 class="text-3xl font-bold mb-6">Gestionar Cuentas Contables</h1>

                <div class="alert alert-info">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                        class="stroke-current shrink-0 w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span>Funcionalidad en desarrollo - Próximamente podrás gestionar los usuarios</span>
                </div>


                <div class="container">
                    <div class="nav-links">
                        <a href="/dashboard">← Volver al Dashboard</a>
                        <a href="/admin/listar-usuarios">Ver Usuarios</a>
                        <a href="/logout">Cerrar Sesión</a>
                    </div>

                    <h1>Crear Nuevo Usuario</h1>

                    <!-- Mostrar mensajes de error o éxito -->
                    <div th:if="${error}" class="error">
                        <span th:text="${error}">Error</span>
                    </div>

                    <div th:if="${success}" class="success">
                        <span th:text="${success}">Éxito</span>
                    </div>

                    <form method="post" th:action="@{/admin/crear-usuario}">
                        <div class="form-group">
                            <label for="username">Nombre de Usuario:</label>
                            <input type="text" id="username" name="username" required maxlength="50">
                        </div>

                        <div class="form-group">
                            <label for="email">Email:</label>
                            <input type="email" id="email" name="email" required maxlength="100">
                        </div>

                        <div class="form-group">
                            <label for="password">Contraseña:</label>
                            <input type="password" id="password" name="password" required minlength="6">
                        </div>

                        <div class="form-group">
                            <label for="role">Rol:</label>
                            <select id="role" name="role" required>
                                <option value="">Seleccionar rol...</option>
                                <option value="AUDITOR">Auditor</option>
                                <option value="CONTADOR">Contador</option>
                                <option value="ADMIN">Administrador</option>
                            </select>
                        </div>

                        <!-- Token CSRF para Spring Security -->
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

                        <button type="submit">Crear Usuario</button>
                    </form>
                </div>

            </div>
        </div>

        <div th:replace="~{layout :: sidebar('crear-usuario')}"></div>
    </div>

</body>







</html>