<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subir PDF</title>
</head>
<body>
    <div>
        <h1>Subir PDF</h1>
        <div>
            <span>Contador: <strong th:text="${usuario.username}">Usuario</strong></span>
            <span>CONTADOR</span>
            <a href="/logout">Cerrar Sesión</a>
        </div>
    </div>

    <div>
        <div>
            <a href="/dashboard">← Volver al Dashboard</a>
        </div>

        <div>
            <h2>Gestión de Documentos PDF - Contador</h2>
            <p>Subir, organizar y gestionar documentos contables en formato PDF con control total.</p>
            
            <div>
                <h3>Subir Nuevo Documento</h3>
                <form enctype="multipart/form-data">
                    <div>
                        <label for="archivo">Archivo PDF:</label>
                        <input type="file" id="archivo" name="archivo" accept=".pdf" required>
                    </div>
                    <div>
                        <label for="tipo-documento">Tipo de Documento:</label>
                        <select id="tipo-documento" name="tipoDocumento" required>
                            <option value="">Seleccionar tipo...</option>
                            <option value="balance">Balance General</option>
                            <option value="estado-resultados">Estado de Resultados</option>
                            <option value="flujo-efectivo">Flujo de Efectivo</option>
                            <option value="notas-estados-financieros">Notas a Estados Financieros</option>
                            <option value="libro-diario">Libro Diario</option>
                            <option value="libro-mayor">Libro Mayor</option>
                            <option value="comprobantes">Comprobantes de Diario</option>
                            <option value="conciliaciones">Conciliaciones Bancarias</option>
                            <option value="inventarios">Inventarios</option>
                            <option value="otros">Otros</option>
                        </select>
                    </div>
                    <div>
                        <label for="periodo-documento">Período:</label>
                        <input type="month" id="periodo-documento" name="periodoDocumento" required>
                    </div>
                    <div>
                        <label for="descripcion">Descripción:</label>
                        <textarea id="descripcion" name="descripcion" rows="3" placeholder="Descripción del documento..." required></textarea>
                    </div>
                    <div>
                        <label for="tags">Etiquetas:</label>
                        <input type="text" id="tags" name="tags" placeholder="Ej: mensual, auditoria, cierre">
                    </div>
                    <div>
                        <input type="checkbox" id="confidencial" name="confidencial">
                        <label for="confidencial">Documento Confidencial</label>
                    </div>
                    <button type="submit">Subir Documento</button>
                </form>
            </div>

            <div>
                <h3>Documentos Guardados</h3>
                
                <div>
                    <form>
                        <div>
                            <label for="filtro-tipo">Filtrar por Tipo:</label>
                            <select id="filtro-tipo" name="filtroTipo">
                                <option value="">Todos los tipos</option>
                                <option value="balance">Balances</option>
                                <option value="estados">Estados Financieros</option>
                                <option value="libros">Libros Contables</option>
                                <option value="comprobantes">Comprobantes</option>
                            </select>
                        </div>
                        <div>
                            <label for="filtro-periodo">Período:</label>
                            <input type="month" id="filtro-periodo" name="filtroPeriodo">
                        </div>
                        <div>
                            <input type="text" id="buscar" name="buscar" placeholder="Buscar por descripción...">
                        </div>
                        <button type="submit">Filtrar</button>
                    </form>
                </div>

                <table>
                    <thead>
                        <tr>
                            <th>Nombre de Archivo</th>
                            <th>Tipo</th>
                            <th>Período</th>
                            <th>Descripción</th>
                            <th>Fecha de Subida</th>
                            <th>Tamaño</th>
                            <th>Estado</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>balance_general_dic_2024.pdf</td>
                            <td>Balance General</td>
                            <td>2024-12</td>
                            <td>Balance General correspondiente al cierre de diciembre 2024</td>
                            <td>2024-12-31 15:30</td>
                            <td>2.1 MB</td>
                            <td><span style="color: green;">✓ Validado</span></td>
                            <td>
                                <button type="button">Ver</button>
                                <button type="button">Descargar</button>
                                <button type="button">Editar Info</button>
                                <button type="button">Eliminar</button>
                            </td>
                        </tr>
                        <tr>
                            <td>estado_resultados_dic_2024.pdf</td>
                            <td>Estado de Resultados</td>
                            <td>2024-12</td>
                            <td>Estado de Resultados del ejercicio 2024</td>
                            <td>2024-12-31 16:15</td>
                            <td>1.8 MB</td>
                            <td><span style="color: orange;">⚠ Pendiente Revisión</span></td>
                            <td>
                                <button type="button">Ver</button>
                                <button type="button">Descargar</button>
                                <button type="button">Editar Info</button>
                                <button type="button">Eliminar</button>
                            </td>
                        </tr>
                        <tr>
                            <td>libro_diario_nov_2024.pdf</td>
                            <td>Libro Diario</td>
                            <td>2024-11</td>
                            <td>Libro Diario completo de noviembre 2024</td>
                            <td>2024-11-30 10:45</td>
                            <td>5.3 MB</td>
                            <td><span style="color: green;">✓ Validado</span></td>
                            <td>
                                <button type="button">Ver</button>
                                <button type="button">Descargar</button>
                                <button type="button">Editar Info</button>
                                <button type="button">Eliminar</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div>
                <h3>Herramientas de Organización</h3>
                <div>
                    <div>
                        <h4>Acciones Masivas</h4>
                        <button type="button">Generar Índice PDF</button>
                        <button type="button">Crear Carpeta Período</button>
                        <button type="button">Exportar Lista</button>
                        <button type="button">Backup Documentos</button>
                    </div>
                    <div>
                        <h4>Estadísticas</h4>
                        <p><strong>Total Documentos:</strong> 24</p>
                        <p><strong>Espacio Utilizado:</strong> 45.2 MB</p>
                        <p><strong>Documentos del Mes:</strong> 6</p>
                        <p><strong>Pendientes Revisión:</strong> 3</p>
                    </div>
                </div>
            </div>

            <div>
                <h3>Configuración de Almacenamiento</h3>
                <form>
                    <div>
                        <label for="carpeta-base">Carpeta Base:</label>
                        <input type="text" id="carpeta-base" name="carpetaBase" value="/documentos/contables/" readonly>
                    </div>
                    <div>
                        <label for="nomenclatura">Nomenclatura Automática:</label>
                        <select id="nomenclatura" name="nomenclatura">
                            <option value="tipo_periodo_fecha">Tipo_Período_Fecha</option>
                            <option value="fecha_tipo_periodo">Fecha_Tipo_Período</option>
                            <option value="manual">Manual</option>
                        </select>
                    </div>
                    <div>
                        <input type="checkbox" id="validacion-automatica" name="validacionAutomatica" checked>
                        <label for="validacion-automatica">Validación Automática de PDF</label>
                    </div>
                    <div>
                        <input type="checkbox" id="notificar-subida" name="notificarSubida" checked>
                        <label for="notificar-subida">Notificar al Auditor sobre nuevas subidas</label>
                    </div>
                    <button type="submit">Guardar Configuración</button>
                </form>
            </div>
        </div>
    </div>
</body>
</html>
